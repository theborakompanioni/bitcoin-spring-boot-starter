plugins {
    id 'java'
}

apply from: "${project.rootDir}/proto.gradle"

description = 'cln grpc client package'

dependencies {
    api "io.grpc:grpc-protobuf:${grpcVersion}"
    api "io.grpc:grpc-stub:$grpcVersion"
    implementation 'javax.annotation:javax.annotation-api:1.3.2'
}

/*
task cloneClnGitRoot(type: Exec) {
    workingDir "${buildDir}/tmp"
    commandLine 'git', 'clone', '--depth=1', '--filter=blob:none', '--sparse', 'https://github.com/ElementsProject/lightning.git'
    doLast {
        println "Executed!"
    }
}*/

/*
task checkoutClnProtoFiles(type: Exec) {
    //dependsOn 'cloneClnGitRoot'
    workingDir "${buildDir()}/tmp"
    commandLine 'git', 'clone', '--depth=1', '--filter=blob:none', '--sparse', 'https://github.com/ElementsProject/lightning.git'
    //commandLine 'git', 'sparse-checkout', 'set', 'cln-grpc/proto'
    doLast {
        println "Executed!"
    }
}*/
